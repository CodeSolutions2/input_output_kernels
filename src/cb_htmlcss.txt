<!DOCTYPE html>
<html>
<head></head>
<body>

<input id="url" type="text" value="" placeholder="url" rows="10" cols="100" style="display:block; text-align: left; width: 600px;">

<input id="ys_selected_ColNum" type="text" value="" placeholder="Enter the ys column number (0-n)" rows="10" cols="100" style="display:block; text-align: left; width: 600px;">

<button id="run_selection" onclick="run_selection()">run_selection</button>

<div id="output">


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/knn-classifier"></script>


<script>



async function run_selection() {

  // [0] Obtain text data.
  const url = document.getElementById("url").value;
  const ys_selected_ColNum = [Number(document.getElementById("ys_selected_ColNum").value)];

  const data_str = await call_fetch_method(url);

  const headerORnot = "no_header";
  var [xs, ys] = await parse_text_to_array(data_str, ys_selected_ColNum, headerORnot);	
  document.getElementById("output").innerHTML += "xs and ys row sample: "+xs.at(0).toString()+ys.at(0).toString();
  document.getElementById("output").innerHTML += "<br>";

  document.getElementById("output").innerHTML += "xs.length: "+xs.length;
  document.getElementById("output").innerHTML += "<br>";


  // Remove a "." in xs, except for separating sentences.
  // const text = await xs.map((sen, i) => { return sen.at(0).split("").filter((x) => x != ".").join(""); }).join(".");

  // document.getElementById("output").innerHTML += "text slice: "+text.split(" ").slice(0,20).join(" ");
  // document.getElementById("output").innerHTML += "<br>";

  // [1] Transform xs to a numbered count array.
  // const X = await CountVectorization(text);

  // document.getElementById("output").innerHTML += "X: "+X;
  // document.getElementById("output").innerHTML += "<br>";

  // [2] Train an ML model.
  // const result_js1 = await ML_KNN(X, ys);
  // document.getElementById("output").innerHTML += "+result_js1: "+result_js1;
  // document.getElementById("output").innerHTML += "<br>";
  
  // [3] Train a DL model.


} // end of run_selection


</script>
</body>
</html>