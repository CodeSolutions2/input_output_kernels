<!DOCTYPE>
<html>
<head></head>
<body>

<button onclick="step1_noinputShape()">0. Input</button>
<button onclick="step1_inputShape()">1. Inputbatch Conv2d</button>

<div id="output"></div>


<style>

button {
  background-color: seagreen;
}

button:focus { 
  background-color: hsl(321, 100%, 50%);
}

</style>


<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>

<script>
var BATCH_SIZE = 10;
var IMAGE_WIDTH = 28;
var IMAGE_HEIGHT = 28;
var IMAGE_CHANNELS = 3;
var NUM_OF_OUTPUTS = 2;



function step1_noinputShape() {
  
  const input = tf.input({
    batchShape: [BATCH_SIZE, IMAGE_WIDTH, IMAGE_HEIGHT, IMAGE_CHANNELS]
    // input.shape: 10,28,28,3
    // OR
    // shape: [IMAGE_WIDTH, IMAGE_HEIGHT, IMAGE_CHANNELS]
    // input.shape: ,28,28,3
  });
  document.getElementById("output").innerHTML += "input.shape: "+input.shape+"<br>";


  const conv0 = tf.layers.conv2d({
    // inputShape: [IMAGE_WIDTH, IMAGE_HEIGHT, IMAGE_CHANNELS],
    kernelSize: 3,
    filters: 16,
    strides: 1,
    activation: "relu",
    kernelInitializer: "heNormal"
  });
  document.getElementById("output").innerHTML += "conv0: "+conv0+"<br>";

  const layer0 = conv0.apply(input);
  document.getElementById("output").innerHTML += "layer0: "+layer0+"<br>";

}


function step1_inputShape() {

  const input = tf.input({
    batchShape: [BATCH_SIZE, IMAGE_WIDTH, IMAGE_HEIGHT, IMAGE_CHANNELS]
    // input.shape: 10,28,28,3
    // OR
    // shape: [IMAGE_WIDTH, IMAGE_HEIGHT, IMAGE_CHANNELS]
    // input.shape: ,28,28,3
  });
  document.getElementById("output").innerHTML += "input.shape: "+input.shape+"<br>";


  const conv0 = tf.layers.conv2d({
    inputShape: [IMAGE_WIDTH, IMAGE_HEIGHT, IMAGE_CHANNELS],
    kernelSize: 3,
    filters: 16,
    strides: 1,
    activation: "relu",
    kernelInitializer: "heNormal"
  });
  document.getElementById("output").innerHTML += "conv0: "+conv0+"<br>";

  const layer0 = conv0.apply(input);
  document.getElementById("output").innerHTML += "layer0: "+layer0+"<br>";

}





</script>
</body>
</html>